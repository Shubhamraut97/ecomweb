{% load static %}
<div class="navbar-top-strip text-center text-white">
  Free shipping over Rs. 2000 • Easy returns • Secure payments
</div>

<header class="section-header">
  <section class="header-main navbar-elevated">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-2 col-md-3 col-6">
          <a href="{% url 'home' %}" class="brand-wrap d-flex align-items-center">
            <img class="logo mr-2" src="{% static 'images/logo3.png' %}" alt="E-Buy logo">
            {% comment %} <span class="brand-text d-none d-md-inline">E‑Buy</span> {% endcomment %}
          </a>
        </div>

        <div class="col-lg col-md-6 col-sm-12 d-flex align-items-center justify-content-center justify-content-lg-start mb-2 mb-lg-0">
          <a href="{% url 'home' %}" class="nav-link font-weight-semibold px-3 text-white">Home</a>
          <a href="{% url 'store' %}" class="nav-link font-weight-semibold px-3 text-white">Store</a>
        </div>

        <div class="col-lg col-md-6 col-sm-12 col">
          <form action="{% url 'search' %}" class="search" method="GET">
            <div class="input-group w-100">
              <input
                type="text"
                class="form-control search-input-rounded"
                style="width:60%"
                placeholder="Search for sneakers, brands..."
                name="keyword"
                required
              >
              <div class="input-group-append">
                <button class="btn btn-primary btn-search-rounded" type="submit">
                  <i class="fa fa-search"></i>
                </button>
              </div>
            </div>
          </form>
        </div>

        <div class="col-lg-3 col-sm-6 col-8 order-2 order-lg-3">
          <div class="d-flex justify-content-end mb-3 mb-lg-0 align-items-center">
            {% if user.id is None %}
              <div class="widget-header text-right mr-3">
                <small class="title text-light-50 d-block">Welcome guest</small>
                <div>
                  <a href="{% url 'login' %}" class="text-white font-weight-semibold">Sign in</a>
                  <span class="dark-transp">|</span>
                  <a href="{% url 'register' %}" class="text-white-50">Register</a>
                </div>
              </div>
            {% else %}
              <div class="widget-header text-right mr-3">
                <small class="title text-light-50 d-block">Welcome {{ user.first_name }}</small>
                <div>
                  <a href="{% url 'logout' %}" class="text-white-50">Logout</a>
                </div>
              </div>
            {% endif %}
            <a href="{% url 'cart' %}" class="widget-header pl-3 ml-1">
              <div class="icon icon-sm rounded-circle border-0 bg-white text-primary d-flex align-items-center justify-content-center shadow-sm">
                <i class="fa fa-shopping-cart"></i>
              </div>
              <span class="badge badge-pill badge-danger notify">{{ cart_count }}</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</header>

<style>
  .navbar-top-strip {
    background: linear-gradient(90deg, #3167EB, #111827);
    padding: 6px 0;
    font-size: 0.85rem;
    font-weight: 500;
    position: sticky;
    top: 0;
    z-index: 1030;
  }

  .navbar-elevated {
    background: radial-gradient(circle at top left, #3b82f6, #111827);
    box-shadow: 0 10px 25px rgba(15, 23, 42, 0.35);
    position: sticky;
    top: 28px;
    z-index: 1029;
  }

  .brand-text {
    font-weight: 700;
    letter-spacing: 0.03em;
    color: #f9fafb;
  }

  .nav-link {
    color: rgba(249, 250, 251, 0.85) !important;
  }

  .nav-link:hover {
    color: #ffffff !important;
    text-decoration: none;
  }

  .search-input-rounded {
    border-radius: 999px 0 0 999px !important;
    border: none;
  }

  .btn-search-rounded {
    border-radius: 0 999px 999px 0 !important;
    padding-left: 18px;
    padding-right: 18px;
  }

  .text-light-50 {
    color: rgba(249, 250, 251, 0.65) !important;
  }

  .text-white-50 {
    color: rgba(249, 250, 251, 0.6) !important;
  }
</style>
